:REPOSITORY_URL: https://github.com/kazurayam/KS_TestCase_loses_its_code_when_moved_over_another_with_the_same_name
:PAGES_URL: https://kazurayam.github.io/KS_TestCase_loses_its_code_when_moved_over_another_with_the_same_name

= Test Case loses its code when moved over another Test Case with the same name

- author: kazurayam
- date: 22 Oct 2025

I am going to retell my link:https://forum.katalon.com/t/test-case-loses-its-code-when-moved-over-another-test-case-with-the-same-name/183734[previous post] with more details.

I used Katalon Studio v10.3.2 on macOS 15.6.1

== Problem to solve

I often make sub folders in the Test Cases tree to locate my test cases. I do change the name of my testcases. I do change the name of sub folders. I even move my testcases from a folder to another. I repeat such "refactoring" to seak for the best state of the Test Cases tree. During such refactoring, I encountered a serious defect of Katalon Studio.

== Description of the issue

=== step1

Initially, I had a testcase `Test Cases/main/TC1`. The code was as follows:

[source,groovy]
----
include::../Scripts/main/TC1/Script1761087607376.groovy[]
----

The script itself is not important here. What matters is that the Test Case `Test Cases/main/TC1` had some Groovy Script code.

image::{PAGES_URL}/images/step1.png[]

Here's a fact you might not know: Katalon Studio's GUI gives the illusion that a test case is a single object containing a Groovy script and metadata like “descriptions,” “tags,” and “variables.” However, on the filesystem, test cases are implemented as a combination of two folders (`Test Cases` and `Scripts`) and the files they contain. I inspected the file/folder tree of the project using the link:https://linux.die.net/man/1/tree[tree] command:

[source,shell]
----
$ tree Scripts Test\ Cases
include::./console/step1.txt[]
----

Here you can clearly see that the Test Case `Test Cases/main/TC1` is represented by two folders: `Test Cases/main/TC1` and `Scripts/main/TC1`. The Groovy Script file is stored as the `Scripts/main/TC1/Script1761087607376.groovy`.

[quote]
____
What is `1761087607376` as a part of the file name? It is a timestamp representing the moment when the script file was created. Katalon Studio uses this timestamp to uniquely identify each script file.
____

[/quote]

Also, please note that a folder that represents a test case should contain only a single Groovy script file. If there are multiple Groovy script files in a test case folder, Katalon Studio will only recognize one of them, and the others will be ignored. Which one is recognized? --- I don't know. Only the Katalon developer knows.

=== step2

Next, I copied the `Test Cases/main/TC1` to make another test case `Test Cases/TC1`.

image::{PAGES_URL}/images/step2.png[]

I copied manually on the Katalon Studio GUI. I right-clicked over the `Test Cases/main/TC`, selected the "Copy" menu. Then I left-clicked the `Test Cases` foldr, right-click it, chose the "Paste" menu. Then I got a new test case `Test Cases/TC1`. It contained the same Groovy script code as the original `Test Cases/main/TC1`.

Now, how the filesystem look like?

[source,shell]
----
$ tree Scripts Test\ Cases
include::./console/step2.txt[]
----

OK. There is no surprise.

=== step3

Then, I moved the `Test Cases/TC1` into the `Test Cases/main` folder. I did it by drag-and-drop on the Katalon Studio GUI. I dragged the `Test Cases/main/TC1` and dropped it onto the `Test Cases` folder. This operation caused a name collision. The `Test Case` folder can not hold two test cases with the same name `TC1`. Katalon Studio created a new test case named `Test Cases/TC1 (1)`, which corresponds to the previous `Test Cases/main/TC1`. Now the `Test Cases/main` folder contains no test cases.

I did not open the new `Test Cases/TC1 (1)` with the Test Case Editor yet.

I checked the filesystem. **I expected to find the Groovy script file `Scripts/TC1 (1)/Script1761087607376.groovy`. Surprisingly, it was missing!**

[source,shell]
----
$ tree Scripts Test\ Cases
include::./console/step3-1.txt[]
----

I double-clicked the `Test Cases/TC1_(1)` to open it with the Test Case Editor. The editor showed an empty script area. The Groovy script code was lost!

image::{PAGES_URL}/images/step3.png[]

I checked the filesystem again.

[source,shell]
----
$ tree Scripts Test\ Cases
include::./console/step3-2.txt[]
----

Ah, now I found a new Groovy script file `Scripts/TC1_(1)/Script1761132105250.groovy`. Its content was something like this:

[source,groove]
----
import static com.kms.katalon.core.checkpoint.CheckpointFactory.findCheckpoint
import static com.kms.katalon.core.testcase.TestCaseFactory.findTestCase
import static com.kms.katalon.core.testdata.TestDataFactory.findTestData
import static com.kms.katalon.core.testobject.ObjectRepository.findTestObject
import static com.kms.katalon.core.testobject.ObjectRepository.findWindowsObject
import com.kms.katalon.core.checkpoint.Checkpoint as Checkpoint
import com.kms.katalon.core.cucumber.keyword.CucumberBuiltinKeywords as CucumberKW
import com.kms.katalon.core.mobile.keyword.MobileBuiltInKeywords as Mobile
import com.kms.katalon.core.model.FailureHandling as FailureHandling
import com.kms.katalon.core.testcase.TestCase as TestCase
import com.kms.katalon.core.testdata.TestData as TestData
import com.kms.katalon.core.testng.keyword.TestNGBuiltinKeywords as TestNGKW
import com.kms.katalon.core.testobject.TestObject as TestObject
import com.kms.katalon.core.webservice.keyword.WSBuiltInKeywords as WS
import com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords as WebUI
import com.kms.katalon.core.windows.keyword.WindowsBuiltinKeywords as Windows
import internal.GlobalVariable as GlobalVariable
import org.openqa.selenium.Keys as Keys
----

Obviously this was completely different from the `Script1761087607376.groovy` file. This means, I lost the code contained in the `Test Cases/main/TC1`. This is too bad. Katalon Studio threw my valuable code away.

=== step4

I did a few more steps for interest.

I moved the `Test Cases/TC1 (1)` back to the `Test Cases/main` folder by drag-and-drop.

image::{PAGES_URL}/images/step4.png[]

I checked the filesystem again.

[source,shell]
----
$ tree Scripts Test\ Cases
include::console/step4.txt[]
----

This is OK. The Groovy script file `Script1761132105250.groovy` was moved into the folder `Scripts/main/TC1 (1)`. No surprise.

=== step5

I renamed the `Test Cases/main/TC1 (1)` to the `Test Cases/main/TC1` by a manual operation on the Katalon Studio.

image::{PAGES_URL}/images/step5.png[]

I checked the filesystem again.

[source,shell]
----
$ tree Scripts Test\ Cases
include::console/step5.txt[]
----

This is OK. No surprise.

